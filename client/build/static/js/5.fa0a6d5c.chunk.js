(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{138:function(e,t,a){"use strict";a.r(t);var c=a(6),n=a(7),l=a(8),r=a(5),s=a(9),o=a(21),i=a(1),m=a.n(i),u=a(142),h=a(131),d=a(55);function v(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var f=a(27),p=a(53),E=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(r.a)(t).call(this,e))).handleChange=function(e){var t=Object(p.groupBy)(a.state.fluData,"SEASON");a.setState({chartData:"season"===e.target.value?a.state.fluData:t[e.target.value],value:e.target.value},function(){a.buildSeries(a.state.chartData)})},a.handleInputChange=function(e){var t=e.target,c=a.state.model,n=c.filter(function(e){return e.name===t.name});n[0].check=t.checked,c[n.id]=n,a.setState({model:c},function(){a.buildSeries(a.state.chartData)})},a.buildSeries=function(e){var t=a.state.model.filter(function(e){return e.check}).map(function(e){return e.name}),c=["Avg Weekly Temp"].concat(v(t)),n=[],l=a.state.chartData;for(var r in c){var s=l.map(function(e){return e[c[r]]});n.push({name:c[r],data:s})}a.setState({series:n,categories:Object.keys(Object(p.groupBy)(l,"Date"))})},a.state={series:[],fluData:[],chartData:[],model:[{id:0,name:"LSTM",check:!1},{id:1,name:"SARIMA",check:!1}],seasons:[],value:"season"},a}return Object(s.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){var e=this,t="localhost"===window.location.hostname?"http://localhost:5000":"";fetch("".concat(t,"/api/fluModel")).then(function(e){return e.json()}).then(function(t){var a=Object.keys(Object(p.groupBy)(t.fluData,"SEASON"));e.setState({fluData:t.fluData,chartData:t.fluData,seasons:a},function(){e.buildSeries(t.fluData)})}).catch(function(e){return console.error("Error:",e)})}},{key:"render",value:function(){var e=this,t=this.state,a=t.model,c=t.seasons;return m.a.createElement("div",{className:"row placeholders"},m.a.createElement("div",{className:"col-xs-12 col-sm-12 placeholder insight-tab"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col col-md-1"},m.a.createElement("select",{className:"form-control"},m.a.createElement("option",null,"USA"))),m.a.createElement("div",{className:"col col-md-2"},m.a.createElement("select",{className:"form-control"},m.a.createElement("option",null,"Michigan"))),m.a.createElement("div",{className:"col col-md-2"},m.a.createElement("select",{className:"form-control",value:this.state.value,onChange:this.handleChange},m.a.createElement("option",{value:"season"},"All Seasons"),c.map(function(e){return m.a.createElement("option",{key:e,value:e},e)}))),m.a.createElement("div",{className:"col col-md-4 mt-2"},m.a.createElement("div",{className:"row"},"Forecasting model:",m.a.createElement("form",{className:"row"},a.map(function(t){return m.a.createElement("div",{className:"form-check ml-4",key:t.name},m.a.createElement("input",{type:"checkbox",name:t.name,checked:t.check,onChange:e.handleInputChange,className:"form-check-input",id:"exampleCheck1"}),m.a.createElement("label",{className:"form-check-label",for:"exampleCheck1"},t.name))}))))),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col"},m.a.createElement(f.a,{chartTitle:"Flu Forecast",categories:this.state.categories,series:this.state.series})))))}}]),t}(m.a.Component),b=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(r.a)(t).call(this,e))).handleChange=function(e){var t=Object(p.groupBy)(a.state.fluData,"SEASON");a.setState({chartData:"season"===e.target.value?a.state.fluData:t[e.target.value],value:e.target.value},function(){a.buildSeries(a.state.chartData)})},a.handleInputChange=function(e){var t=e.target,c=a.state.model,n=c.filter(function(e){return e.id===t.name});n[0].check=t.checked,c[n.id]=n,a.setState({model:c},function(){a.buildSeries(a.state.chartData)})},a.buildSeries=function(e){var t=a.state.model.filter(function(e){return e.check}).map(function(e){return e.id}),c=["ACTIVITY_LEVEL"].concat(v(t)),n=[],l=a.state.chartData;for(var r in c){var s=l.map(function(e){return e[c[r]]});n.push({name:c[r],data:s})}a.setState({series:n,categories:Object.keys(Object(p.groupBy)(l,"WEEKEND"))}),console.log(a.state)},a.state={series:[],fluData:[],chartData:[],model:[],seasons:[],value:"season"},a}return Object(s.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){var e=this,t="localhost"===window.location.hostname?"http://localhost:5000":"";fetch("".concat(t,"/api/fluActivity")).then(function(e){return e.json()}).then(function(t){var a=Object.keys(Object(p.groupBy)(t.fluActivity,"SEASON"));e.setState({fluData:t.fluActivity,chartData:t.fluActivity,model:t.model,seasons:a},function(){e.buildSeries(t.fluActivity)})}).catch(function(e){return console.error("Error:",e)})}},{key:"render",value:function(){var e=this,t=this.state,a=t.model,c=t.seasons;return m.a.createElement("div",{className:"row placeholders"},m.a.createElement("div",{className:"col-xs-12 col-sm-12 placeholder insight-tab"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col col-md-1"},m.a.createElement("select",{className:"form-control"},m.a.createElement("option",null,"USA"))),m.a.createElement("div",{className:"col col-md-2"},m.a.createElement("select",{className:"form-control"},m.a.createElement("option",null,"Michigan"))),m.a.createElement("div",{className:"col col-md-2"},m.a.createElement("select",{className:"form-control",value:this.state.value,onChange:this.handleChange},m.a.createElement("option",{value:"season"},"All Seasons"),c.map(function(e){return m.a.createElement("option",{key:e,value:e},e)}))),m.a.createElement("div",{className:"col col-md-12 mt-3 pl-4"},m.a.createElement("div",{className:"row"},m.a.createElement("h6",null,"Forecasting model:"),m.a.createElement("form",{className:"row"},a.map(function(t){return m.a.createElement("div",{className:"form-check ml-4",key:t.id},m.a.createElement("input",{type:"checkbox",name:t.id,checked:t.check,onChange:e.handleInputChange,className:"form-check-input",id:"exampleCheck1"}),m.a.createElement("label",{className:"form-check-label"},t.name))}))))),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col"},m.a.createElement(f.a,{chartTitle:"Flu Activity",categories:this.state.categories,series:this.state.series})))))}}]),t}(m.a.Component),g=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(r.a)(t).call(this,e))).toggle=a.toggle.bind(Object(o.a)(Object(o.a)(a))),a.state={activeTab:"1"},a}return Object(s.a)(t,e),Object(n.a)(t,[{key:"toggle",value:function(e){this.state.activeTab!==e&&this.setState({activeTab:e})}},{key:"render",value:function(){var e=this.props.match;return m.a.createElement(m.a.Fragment,null,m.a.createElement(d.a,{header:"Predictive Analytics"}),m.a.createElement("div",{className:"row placeholders"},m.a.createElement("div",{className:"col-xs-12 col-sm-12 placeholder"},m.a.createElement("ul",{className:"nav nav-pills"},m.a.createElement("li",{className:"nav-item"},m.a.createElement(u.a,{exact:!0,activeClassName:"active",className:"nav-link ",to:"".concat(e.path)},"Analytical Model Optimization Results")),m.a.createElement("li",{className:"nav-item"},m.a.createElement(u.a,{activeClassName:"active",className:"nav-link",to:"".concat(e.path,"/flu-activity")},"Flu Disease Activity Predictive Model"))),m.a.createElement(h.a,{exact:!0,path:"".concat(e.path),component:E}),m.a.createElement(h.a,{path:"".concat(e.path,"/flu-activity"),component:b}))))}}]),t}(i.Component);t.default=g}}]);
//# sourceMappingURL=5.fa0a6d5c.chunk.js.map