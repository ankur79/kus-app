(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{136:function(e,t,a){"use strict";a.r(t);var r=a(6),n=a(7),o=a(8),l=a(5),i=a(9),c=a(1),s=a.n(c),u=a(51),h=a(53),p=a(16),m=a.n(p);a(30)(m.a.Highcharts);var d=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(i)))).state={koData:[],fluRate:[],temp:[],week:[],loader:!0},a}return Object(i.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){var e=this,t="localhost"===window.location.hostname?"http://localhost:5000":"";fetch("".concat(t,"/api/ko-drate/count/50")).then(function(e){return e.json()}).then(function(t){e.setState({kobai:t.koData},function(){e.buildSeries(t.koData)})}).catch(function(e){return console.error("Error:",e)})}},{key:"buildSeries",value:function(e){e=Object(u.orderBy)(e,["endingDate"],["asc"]);var t=[],a=[],r=[];for(var n in e)t.push(Number(e[n].reportedFluRate)),a.push(Number(e[n].avgTempInFahrenheit)),r.push(e[n].endingDate);this.setState({fluRate:t,temp:a,week:r,loader:!1})}},{key:"render",value:function(){var e={chart:{zoomType:"xy"},title:{text:"Reported Flu Rate"},xAxis:[{categories:this.state.week,crosshair:!0}],yAxis:[{labels:{format:"{value}\xb0F"},title:{text:"Temperature"}},{title:{text:"Flu Rate"},labels:{format:"{value} %"},opposite:!0}],tooltip:{shared:!0},legend:{layout:"vertical",align:"left",x:120,verticalAlign:"top",y:10,floating:!0,backgroundColor:"rgba(255,255,255,0.25)"},series:[{name:"Flu Rate",type:"line",yAxis:1,data:this.state.fluRate,tooltip:{valueSuffix:" %"}},{name:"Temperature",type:"spline",data:this.state.temp,tooltip:{valueSuffix:"\xb0F"}}]};return s.a.createElement(s.a.Fragment,null,this.state.loader?s.a.createElement("div",{className:"loader"}):s.a.createElement(s.a.Fragment,null,s.a.createElement(h.a,{header:"Kobai"}),s.a.createElement("div",{className:"row placeholders"},s.a.createElement("div",{className:"col-xs-12 col-sm-12 placeholder insight-tab"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},s.a.createElement(m.a,{config:e,ref:"chart"})))))))}}]),t}(c.Component);t.default=d}}]);
//# sourceMappingURL=9.3eb4e9f0.chunk.js.map