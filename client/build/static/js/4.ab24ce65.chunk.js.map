{"version":3,"sources":["components/Insights.js"],"names":["Insights","props","_this","Object","_Users_Ankur_MyProjects_kus_app_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_Users_Ankur_MyProjects_kus_app_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_Users_Ankur_MyProjects_kus_app_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","state","data","tabNames","loader","_this2","loc","window","location","hostname","fetch","concat","then","res","json","setState","groupBy","insights","keys","catch","error","console","_this3","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","Fragment","className","_utils_Common__WEBPACK_IMPORTED_MODULE_6__","header","length","map","item","row","desc","value","React","Component"],"mappings":"wKAGMA,cACF,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACfE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KACDQ,MAAQ,CACTC,KAAM,GACNC,SAAU,GACVC,QAAQ,GALGV,mFAQC,IAAAW,EAAAR,KACVS,EAAmC,cAA7BC,OAAOC,SAASC,SACtB,wBACA,GACNC,MAAK,GAAAC,OAAIL,EAAJ,kBACAM,KAAK,SAAAC,GAAG,OAAIA,EAAIC,SAChBF,KAAK,SAAAC,GACFR,EAAKU,SAAS,CACVb,KAAMc,kBAAQH,EAAII,SAAU,aAC5Bd,SAAUR,OAAOuB,KAAKF,kBAAQH,EAAII,SAAU,cAC5Cb,QAAQ,MAGfe,MAAM,SAAAC,GAAK,OAAIC,QAAQD,MAAM,SAAUA,sCAEvC,IAAAE,EAAAzB,KACL,OACI0B,EAAAC,EAAAC,cAACF,EAAAC,EAAME,SAAP,KACK7B,KAAKI,MAAMG,OACNmB,EAAAC,EAAAC,cAAA,OAAKE,UAAU,WACfJ,EAAAC,EAAAC,cAACF,EAAAC,EAAME,SAAP,KACEH,EAAAC,EAAAC,cAACG,EAAA,EAAD,CAAYC,OAAO,aACnBN,EAAAC,EAAAC,cAAA,OAAKE,UAAU,oBACXJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,oCACV9B,KAAKI,MAAME,SAAS2B,OAAS,EACxBjC,KACGI,MACAE,SACA4B,IAAI,SAACC,GACF,OACIT,EAAAC,EAAAC,cAAA,OAAKE,UAAU,eACXJ,EAAAC,EAAAC,cAAA,UAAKO,GACLT,EAAAC,EAAAC,cAAA,SAAOE,UAAU,gCACbJ,EAAAC,EAAAC,cAAA,aACKH,EACIrB,MACAC,KAAK8B,GACLD,IAAI,SAAAE,GAAG,OAAIV,EAAAC,EAAAC,cAAA,UACRF,EAAAC,EAAAC,cAAA,UAAKQ,EAAIC,MACTX,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,cAASQ,EAAIE,gBAQ/C,cAzDfC,IAAMC,WAkEd7C","file":"static/js/4.ab24ce65.chunk.js","sourcesContent":["import React from 'react';\nimport {PageHeader} from '../utils/Common';\nimport {groupBy} from 'lodash';\nclass Insights extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            data: {},\n            tabNames: [],\n            loader: true\n        }\n    }\n    componentDidMount() {\n        const loc = window.location.hostname === \"localhost\"\n            ? \"http://localhost:5000\"\n            : \"\"\n        fetch(`${loc}/api/insights`)\n            .then(res => res.json())\n            .then(res => {\n                this.setState({\n                    data: groupBy(res.insights, \"tableName\"),\n                    tabNames: Object.keys(groupBy(res.insights, \"tableName\")),\n                    loader: false\n                });\n            })\n            .catch(error => console.error('Error:', error))\n    }\n    render() {\n        return (\n            <React.Fragment>\n                {this.state.loader\n                    ? <div className=\"loader\"/>\n                    : <React.Fragment>\n                        <PageHeader header=\"Insights\"/>\n                        <div className=\"row placeholders\">\n                            <div className=\"col-xs-12 col-sm-12 placeholder \">\n                                {this.state.tabNames.length > 0\n                                    ? this\n                                        .state\n                                        .tabNames\n                                        .map((item) => {\n                                            return (\n                                                <div className=\"insight-tab\">\n                                                    <h5>{item}</h5>\n                                                    <table className=\"table table-sm table-striped\">\n                                                        <tbody>\n                                                            {this\n                                                                .state\n                                                                .data[item]\n                                                                .map(row => <tr>\n                                                                    <td>{row.desc}</td>\n                                                                    <td>\n                                                                        <strong>{row.value}</strong>\n                                                                    </td>\n                                                                </tr>)}\n                                                        </tbody>\n                                                    </table>\n                                                </div>\n                                            )\n                                        })\n                                    : \"\"}\n                            </div>\n                        </div>\n                    </React.Fragment>}\n            </React.Fragment>\n        )\n    }\n}\n\nexport default Insights"],"sourceRoot":""}